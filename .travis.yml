# do not modify this file. it is generated from configs/travis/base.travis.yml
language: python

services:
  - redis-server
  - memcached
  - postgresql

install:
  - sudo apt-get install -qq libmemcached-dev
  - pip install -r configs/requirements/prod.txt --use-mirrors -q

script:
  - flake8 .
  - python manage.py test tests

after_success:
  - wget -qO- https://toolbelt.heroku.com/install-ubuntu.sh | sh
  - git remote add heroku git@heroku.com:canada-development.git
  - echo "Host heroku.com" >> ~/.ssh/config
  - echo "   StrictHostKeyChecking no" >> ~/.ssh/config
  - echo "   CheckHostIP no" >> ~/.ssh/config
  - echo "   UserKnownHostsFile=/dev/null" >> ~/.ssh/config
  - heroku keys:clear
  - yes | heroku keys:add
  - yes | git push heroku master

notifications:
  email: false

env:
  global:
    # Must end defining global env variables, so that it can be concatonated with secure keys
    secure: "qS62F3zHG9s36KZObrVQqvaP1+Ng8cTEDu0tR2IZT29V9uBEr+LxEiEnSQuL\n09EJN0O/BTGKRPENHPYf/EzgPgL6AOoF8eEE9EKlFyQqmH/mPnD2u3FchaQv\nHcJPxrOVvdYh5EkBdeLak9FHBhA33gXizbK7n/6EmL+9sRoPmtk="
    secure: "jOw+hh5vkur1AkS0YZ0F9kjlEmKvWRLKjDo0JV135CAO5IgsEk7Wrc78JgeI\n7JCHB1q6JJVGfiRh1ktoY4OqLpiM32MWb4JfHhX9LidAjJJQxhaN2un4N6+U\nubJeeaLk5CwQAwRVwolqrfWSi7Q652i+w47nQUBJp3S+AxWtxAg="
    secure: "K6ee/yV79L/x4UMjEwPXxzqR8eNDKy5mALz0z9WrT9QPti/RCJBpL1/MMxZg\nxLx4qiNuWU8DFfgNe5w0bRDlHnBwAlwEMJ2VcV6CadSZv9/1wcJrvBng/62N\n1GT5+k5710i/THc7+J3D4Y3lHkhgUwL5tdCu8UDha8KflaMOrLc="
    secure: "hVddjMknhzpJ4JVzXXxAwW0JwYTfqLMhcrCKpD59wFCYvodbYhL26inrjyRl\n+e0o9O00f0saYMc/AByfE63BaXWXGMFTAO0qyG7/RFtjHwZfo/PPMTi6nIrH\n0fvq5vZrD+2XfSgJm00BuOQctiE7Vw71syVKB6+CUx0+VJYn1pk="
    secure: "VMRrNe4HrWFabhVPPmL6pZCTqkVyrXLkwOvr9fEJ2I+YL5DAYfKaua3fOkey\nbSAJtlR+kGNjcf2PSIYc94FIRcW8ezx2Ti9gQ4hUs/bU2Qojz4SS1SV5P/O6\nkGGTn+7vmwb3J7aY9Mhn3its+nCNT/ILpFea7LF9gf+UXolMEBs="
    secure: "A61mXLb1tyFJs2TMvKnR/4lhw0oRVsxXKlMshHeVlBixmpK428NWIlXzFze/\nnLPGs33WfKCjz20K+5q2/zzf8YcXZrsc+rnCTlDnSQzjuaoDLLns2Bp5pFwM\nOXqyZAtUsQ6ESmRzGIwfh/6CN7B4i5eM+VJgt9vwZ24er8OG7PI="
    secure: "xoPMrToD0mJG3rl38nGFHng2A/NVI0sA5tBZm+hRA0K4SW9FsM5WFEU0PjuO\n4EwEaZ1YBJwGRHCZ4RiGMp9PB3ZqojHLXEkKNy9tAY44NjyubHMFacOT7GTh\nKOn+9HuwwB2Zp0/ldBgV2ri0+3DzaoW19pMyA/lGrtD5pbyYCyY="
    secure: "Gt+piWLjCRu31/VnHBXWBwwqvmcqvNy3h0TBwl5NdGCSt0Qh8D/Hrim6nIR0\nuCqB+kR/hQKdZwkYI3oqYLWFPBXgTKDCrP+gI5lr4Bdv+kKiv+d1wpfplHwo\nbgcbGhfJMaiKb4y/Rk66ViA8y2g+qT81RRUNopy25chpAK3Rcf8="
    secure: "xjaYcUzgKmS8x49DevUSz4KdzYalSFBE6usaD1KY2VUjDIMfW1jarhMGDktS\n9j2808dtOGTbVoSg3RW73c3NVkNib7y5dkEKXzfkvPOs9ZauKDk7DkFkNqHD\nQ9jsZhx9ro7flFBXUSKMkLVBDsiWW5oBicRv0LZGpOdm71QZRkM="
    secure: "Z8loRGhtTaSV3HKfRSupU16OkD2SDq2AqrqbL1YUEbKCajPnezYGuHj7D/s8\nQyN0NaRA7O4EdIYE3gWRkKzPUppltokBWbN+S94pfOKhGhsnAvVlsTkUvfAh\nU/BJqxmgj4Z9xvfgTmgweQuBVZSEKPlwyEYRS/LgFjoogEVggE0="
    secure: "R00GlIySTBvt+LOTy31dz7c8vXsHycGYnlMviLgAkHwdYXPF4B1mtQs3sh9G\no6/YmA5RCPe5WHXMNOA6ME35MiG1wOGM4qxAIroO69F4flcXHkM7KWnAI33m\n6UF2QpYCpJ08isEx+mh3pMigKtTxRHp+zK9sLpJLFagbOni/Yl0="
