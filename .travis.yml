# do not modify this file. it is generated from configs/travis/base.travis.yml
language: python

services:
  - redis-server
  - memcached
  - postgresql

install:
  - sudo apt-get install -qq libmemcached-dev
  - pip install -r configs/requirements/testing.txt -r configs/requirements/common.txt --use-mirrors -q

script:
  - flake8 .
  - python manage.py test tests

after_success:
  - wget -qO- https://toolbelt.heroku.com/install-ubuntu.sh | sh
  - git remote add heroku git@heroku.com:canada-development.git
  - echo "Host heroku.com" >> ~/.ssh/config
  - echo "   StrictHostKeyChecking no" >> ~/.ssh/config
  - echo "   CheckHostIP no" >> ~/.ssh/config
  - echo "   UserKnownHostsFile=/dev/null" >> ~/.ssh/config
  - heroku keys:clear
  - yes | heroku keys:add
  - yes | git push heroku master

notifications:
  email: false

env:
  global:
    # Must end defining global env variables, so that it can be concatenated with secure keys
    - secure: "LdzUAnDm4m1iueNELb0RdHMc271MqaDsqE052JULYGbIc7opmBW/EUIeGE0i\nhAnBSOaihLTXX2SJsdYWA/+euBkzODwNRJcgqzlJs2iLeQnjNxjdyrfM47r3\nMA4lBGDa2VS6v7Y+rbspUly8DYvMlICQRdbMTFZtQvWMaEAvt3Q="
    - secure: "ofGt+cApBgLphsUtgeeCgn/aKcywvNXu7KosSuYbk/aORC3ODfv6dJP+1kpW\nhlidusMyBfhx37je2SIpY5gqQ96ylxqGeCxG5/0sYEko3lLW5ppr3gdE7/4g\n6NCzlXS630CmAe+5PSCub8HVb5SqVjzeQCQOb7e5/JMizuS9suk="
    - secure: "ata/rYVp6RqtRS4dSqQsQ00uLtssohj/qOwrld2LmSd3DhEuAUdYxsRuCY9x\nazOfRKpMGhISrcrrEHwEYBuT87Xi22uIEXo8wgrPy+v8J3fXU/Siiv7/Z+PY\nMlzVMTnbpSzgMU7h2JANVRhsfT7lwH6J7KN/GM2hndx/kvc6T3k="
    - secure: "HgwhNfuAzgXKPlHFj1c9gGEWwmi6aeIKmUNSfuV554aYyvcd7t0GMpWYeHDJ\nAh53zIyMwIycc5otXASvOThX4s95usJ3dblyJsr8gpbn6AurTtaq6gDziDvH\nqitezK5Lqw4mOpu6VsyxAPuXHPfZvN3/Pw3XnQwXjc/3+5DPg6c="
    - secure: "l+2irypyKJb2iYAvKj4cYQbz5G4HUcU9PRAWZcIeN5gkuQr70B0o8/sljVYA\nRoOoVVCWYS+Hkkvo9aR55Yg90D8WgPn4NVlv+RsR6cV90wHJM6vf8gf0YUK2\nFxElfQWVRVGfMlZgFH9iWEKv2Anf/VAZeZaUr6igI0vSj5fKZAA="
    - secure: "I2/rdpQHl/KGadWps6yQFtI3lWz162gzY8CJQpAnHmrFphQ1xzj/JD3eZ+ai\nEnpEkC7sCbEpzGJ2nsZCjV3a2f7sUNk6tWkPQWLUSOyjpRDi+oY+KGNqSkVY\nv3KzC+4m2jy8yGr9MB3kXRJQyQk9Y8lemQ8wpNgdtqSmzJh57RE="
    - secure: "kJVraIH/6yMdI8xE0aEISONgFhOTKJt6k7yi3u6W+zOc0NCqAeybj4cmg8uH\nzdlXozeUAchAxbgAoiFiB2K1jwsWjnSh9OgyywOKnUHfbDMBjNryavdGb+f8\nQ0ivwPpmR8csXIoR2E0qe8KUn/6kq1qWfKIiosPboXGr5PwVC7I="
    - secure: "D4T+XS8R2Su2VyBnA0k9tTSN7CgRp+WiIY48hrydmbM0MY45YeTro3GJ04dN\nKR90psjB7Hm95PMziyKy3lUC0A7RgZgw5OBbqJf8tmnV8aBMKoOKc4sqi5tc\nMuWJBgIb/AAc5E2anO8bhEmKqR2xIGWYRbrt5uFs2Lo5hkvvr2A="
    - secure: "XaHC93T1F9/rYJ3TbB7mDyQnuwp7o8ZdvP5+6Rx8z8pTXVM9JEVutRKgkTFA\nR9V20KWe1LrVXjCqVg+l1qGo1fBZXzm3XHKpK2eYQ7L4B53qq++IOpDtpFB2\n+UV9wMqHm1hn6F+RprQTfyrDZW5wYdzY62UIIERhkNHHEO3bOVg="
    - secure: "osNQMAyATOcbRWLrk2Z2C8a0jLX6uhnz1NNc0CXEYeV5LP/SUM5UYJwbuKMR\nKewMQk1ErTcwHQITNb6BYWIOazBRqIlyYSju3gkbn1hbJfC977//UJIjRxeF\nK9qhsa/kNw6u5iCQMneAyJqI5yYNxIdJckz4ffcu2azYZDLuxEc="
    - secure: "aZ/PTFm5EK5C38AG8aradFqgjpu0tiLwnntMyc7GWsbXA5MJ5iCc3lqc0Qo3\nlgZGZQX9Sbji+/6XmPoblr8HTAKPK2MIv8ExemvcvGBsRKwlPtyqEbaCSeF1\neMIU9rdansA/frFFgH5cJVXfUSi5/hhqPsXcc8pfLJOdAcUY+zk="
