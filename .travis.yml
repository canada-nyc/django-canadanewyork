# do not modify this file. it is generated from configs/travis/base.travis.yml
language: python

services:
  - redis-server
  - memcached
  - postgresql

install:
  - sudo apt-get install -qq libmemcached-dev
  - pip install -r configs/requirements/common.txt -r configs/requirements/testing.txt pylibmc --use-mirrors -q

before_script:
  - flake8 .

script:
  - python manage.py test tests

after_script:
  - wget -qO- https://toolbelt.heroku.com/install-ubuntu.sh | sh
  - git remote add heroku git@heroku.com:canada-development.git
  - echo "Host heroku.com" >> ~/.ssh/config
  - echo "   StrictHostKeyChecking no" >> ~/.ssh/config
  - echo "   CheckHostIP no" >> ~/.ssh/config
  - echo "   UserKnownHostsFile=/dev/null" >> ~/.ssh/config
  - heroku keys:clear
  - yes | heroku keys:add
  - yes | git push heroku master

notifications:
  email: false

env:
  global:
    # Must end defining global env variables, so that it can be concatonated with secure keys
    secure: "NRE6h5gaZInP0WpjNumfLmGDiwzEfITUAihuDyrz+SL1UYhNL6JpBryWJM40\nGlLHjEPATIdFNIzxSOHEwo6RivPQPb8Z4TB78oWU1/ipJpUui2+EZXSaFv/n\nC/iV/UT/MNSK5CxyOJ8alp0FL/Mo8HapLgVcPi+KX1+ug9ygQ0s="
    secure: "o/XM7/5SEHZlzegqt5jLuD5Zrh1/D1K9fzI1tEpkYCMqeA4c2IalnA/sZYPh\nhrUXKvKjtBS06Dn5lTXfjKjQkbAvppQIhj8eRBf14EC4ZK6iYgXX4dGwCIBB\nGVeIS3TgEBZXOceuSi/Vr8Y9Zsh6uOuoag/d2n94QovFPI+lV20="
    secure: "sZZlZ83dp7ij0CGCxDLdtF5qePMMmGiqLz34PWJVMkYAwNvTorKU/LdApu0g\n41h5CljoDtbiu1Iz6P5YfZkSl+HRMRkcUK+c/9JmlGVxervTrEYxMGb0TX/w\nZ52/QMJP/bd5jsweYHwyrobM0RQdBYKV+S6ZSNoAnWLRETMetsQ="
    secure: "GG55qlSg58PPjzXnqCoPBpjFJMLxKHaGNggSkzdb4i327tDSMNfsW3AvRkk/\nCNvys95qYjwVarnE1EaHHIyLd8y+T03nTmHy4omx61meIA314a07PewjN26S\nRVDVSSJxWj8h0Wnqdaylpo/IsFHImWVc6fQ5SCnRheTVoVNc6SA="
    secure: "hI4955KoLbtVrOZzX5rbE/O/SaN9dHboNyQYjrwlly+Xdx6YJHIsMlQWuJaZ\nbK/cyhBM28OJola/uRgZBbPhymUbJ7DzznJvINLRq+b4IhUvwxw3FYEwv66F\nc37BC6YEKOOqP5HAdsS3MpPbOgTgJhwT2x3asWWPneAGgH4EDFU="
    secure: "xgI2emF44npvDXl0m3YZLCxAaWWAqo3JBfkDHkgNpLoi6Ibf5f6TbLwnhxN8\nxjAgENCETQk0PGmfIT3kwyJicEKOnjr8NgSp7jkqzuJRWJhRGeH4XiqsrQMd\nQgESOC7n0zpJHi+vv96WyXgNGpYJKmRD9lBFHxrXIXa+gCcxVJ8="
    secure: "AgdG88gXSBG3AlOBYAZbd40edDIDB58cdB6lwHjlv9XV04Lg3f9gWLtUHKYU\nczod9kLt/B2dvHIwUBTTWvHhLsp9rs81jZqZ8VnvVvVJ+k9AvMG0OgAq53Rn\nDmo4o5b27p3E7PvuGBzUVV6h8nXCC+q56jvaR4B0/eSjxYJKQ8M="
    secure: "TIgYa+OxF892Cz5PsK5SrX8UEk8w2LLSSgv6p9tSsAIxlBoSmBB/LUZH6qFz\nIuEyDlby2LhbOxx/2P1UdOQVVWpIl8ZUp/FSa1UZYbticgz6XbOMseRCvakW\nd9F8d169UD/g+Z6aujpS4tv0OV9r3qaAm8/FJ/kxArfqStVwXG0="
    secure: "SzxNzxyEyCur/Nx5fVZtBB8Mp6uQtnaQxqnilLxwLWDp+z1INFR2E6GJvNtO\nNwBfjP87r04cZMx3HTjpsDjezmgpYuQ2Vw7iuD7vK11VHoLBGNt0Be4rDTUs\n+9oomH3udvCojdYlwBo2IQClAjr5AfnCwFj9ykCUQIRc7qaq03U="
    secure: "rlUNq2QsFO7DOXEa5LD0z/BdN2sP957+hHo95PtoI9pbNYG7ctwuKz5cgOEx\nrfAQ3ac1PIfHiSnkreVwLvhYap+5olMd0Rt3WP1Webq+/BFObw6A0SrJKAoZ\nrsJB6gr4swgqFnzRZ/tDSaPGkNi+WRfe2vs82kRjeLVhJR49Wms="
    secure: "C9kpnLz5D+qaNf48kJNOP7a3VS8gec4mluHlzhAaZcpb8ck0/+pgAgkcHN+g\nQgeMVHZOSRq+64J2C1H7bbd1Kdp0FiBCICDbe33oAf/AAnKE6Rxs3wAFA67E\nVB1wwX0rVuW8kLA7Yl6k2+YrSi4O4kmYl94Q+BR4qYExYTW0bIw="
