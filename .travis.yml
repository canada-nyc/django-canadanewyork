# do not modify this file. it is generated from configs/travis/base.travis.yml
language: python

services:
  - redis-server
  - memcached
  - postgresql

install:
  - sudo apt-get install -qq libmemcached-dev
  - pip install -r configs/requirements/travis.txt --use-mirrors -q

before_script:
  - psql -c 'create database django_canadanewyork;' -U postgres

script:
  - flake8 .
  - python manage.py test tests

after_success:
  - wget -qO- https://toolbelt.heroku.com/install-ubuntu.sh | sh
  - git remote add heroku git@heroku.com:canada-development.git
  - echo "Host heroku.com" >> ~/.ssh/config
  - echo "   StrictHostKeyChecking no" >> ~/.ssh/config
  - echo "   CheckHostIP no" >> ~/.ssh/config
  - echo "   UserKnownHostsFile=/dev/null" >> ~/.ssh/config
  - heroku keys:clear
  - yes | heroku keys:add
  - yes | git push heroku master

notifications:
  email: false

env:
  global:
    - secure: "MaIyA43z8cs+9+WVkwr5krUzj00fmyrsoB6WZIcgR44YvOKjTblDmKdFljy4\niR847+II33RbN9ttiIRRDS4vDc0gEBxJF7IdWiDlkCkTZ5R8pQ/WdC+oHahk\nV6KgZ/el49N79gRrV+OaICAbjtzUqqFaVPzIKFTwvUomPcinkeM="
    - secure: "T+cwYapBIb+xHKadAFQr/rpEd8ELmKJCAOcii4owiZmxGuAEkmtxmJUGIAYg\nRzC0oTpRpg0DCAVi3n2cjNvh7o8hiMxzxB2pjABdXyEGbwgyKy93hnhQ7//Z\n958uT0PDzJYb5vk981WGvlmsWyIedvczz/C23Y2la/PBc53sDIw="
    - secure: "u2jggjlXhrkMzC6X+CDsLbnkGbGrzSN7MNakTEY0u1dBDVRAdu2UsIrUGzGM\nBTNBGnfZuTZFivxDLIpIT+bZ7DRIWR23WfF+HyirL6iheOiYewPSEdrrx+V1\nnQiCFOr+rw4yiKRaOcxNRAyUlRC/Jg9UJM786qkadEn7LmLMBK0="
    - secure: "hZcFOlDS8zNu/LLoLvjSJybnnFuFlIQT51s+xqkJ9WU04pdhSnJqYc5NPOkr\nq4jKPfxl6Q2smSlxNsAVBKLU6WFgU0ouWMG8jlB39zzAbCK/rM+W8/5an1aA\n2je6DpAA+sfFtXnfU555xhHsUr0Lmnn8AGWvSbhYemPiEAUIttc="
    - secure: "EKKzvTh+vYOreCpJ/J1bQhDix+nfqIEbb0ow/1ZVLpQXr5es6Wc3MaZrH6eZ\nnfz5Y+cakClDVwWKuASXjtevj+cgS1RWUwPpSCT3YgwlhJQDsBIU66zzXV1s\nXkknx8ibLvFfOBn2+wIkFfd/0fhJf5Gjeq1WeTc0Ls0v4JlEdXs="
    - secure: "ENJotX0R65vA7Ty1c9Hsk1Zww0GBoLdKnPaTRx3+5+nOpn1J3wwtALN7HtMg\naqEfm9zSW6wXKBLqYC2lTk8qtxK5hCWtIA3uH5VltVSXZHMiEWaLtQgGXHVT\ngL6u4G1JSsYlGDsvacr/o4eAgJkuj7ZHzKS89aYCzSTkQ2f9mgc="
    - secure: "GilFGLRRXF5cvC7TrMgYriClxWXSDeEMMQx2Z/aqVO2VbUwwSq6ji0FwuiUp\n6Fp2BxsdTTQ2uffYK2YaTCtn0XOWqptPM97+PP5ySI2t27E00uK11zvztC5L\npRffSfuzfeXvJWrKISOFG36hOKn/oJq1PfXEUCykBICOTq9FK9w="
    - secure: "E9J6PLZ/OAvt3D/B48ODzlAdvKyQ1FTIbR2mAbiZCLAOaUixCjZfqfbsUBIo\nqsUZixWhhrJcsk2cXetZ7Wj1JjvoYukKER1ZDopSt76+eNMSUhNwOeBa73G1\nyxGsSCA9kIlmeHnyPd3zFof7WtRk/NJdp3ffY5eT2WT27YPR89E="
    - secure: "yQDA9XE5toBmvnkDz74bLfQH2ASLF2tlfio29217u9jKilU3R37m1gVsE4ks\nI7WZunWHM+XEEY3lPAlW0dEuNQWmMAgGGOFlScmxtjynYHGQwELrtPULdkt3\nFD8eImFEx40GLJh9KPefA1s3D+mOwMykJH9m4uQMh9BNRZjMnuU="
    - secure: "y7lkViBzFHNy7EN3g9Z2gDgsJ/WWkVX2lDHiPu3cL0lQzd/FwMqooK+e+czz\nz6yyN1KL5EV0spnmELzxZ/rTMcs7EqRobUpw6nrfwTJsavZlHzT4Ldo1etaC\nTjM7sE7iv/HFZXm/BCTl3xV1w9ASeb3+wkIR9xR6QwOvmCKZLMs="
    - secure: "GM42z9fU/qdFcmYKGBywzKYjImM0UfY6Aa2clPid1MMhWJlYwEA3FRe/i1VR\n4LMbF8DCPuteeI0BWk3x1TSyqoh1qCPXnkOl3CVxfwWSXAAq79buvHyfUqp7\nV8zfl5UXv9qKymZDzuPEOLmBr+OfxrdLeKJ7fBv44W7Y29fqVHI="
