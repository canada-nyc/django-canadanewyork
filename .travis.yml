# do not modify this file. it is generated from configs/travis/base.travis.yml
language: python

services:
  - redis-server
  - memcached
  - postgresql

install:
  - sudo apt-get install -qq libmemcached-dev
  - pip install -r configs/requirements/testing.txt -r configs/requirements/common.txt --use-mirrors -q

script:
  - flake8 .
  - python manage.py test tests

after_success:
  - wget -qO- https://toolbelt.heroku.com/install-ubuntu.sh | sh
  - git remote add heroku git@heroku.com:canada-development.git
  - echo "Host heroku.com" >> ~/.ssh/config
  - echo "   StrictHostKeyChecking no" >> ~/.ssh/config
  - echo "   CheckHostIP no" >> ~/.ssh/config
  - echo "   UserKnownHostsFile=/dev/null" >> ~/.ssh/config
  - heroku keys:clear
  - yes | heroku keys:add
  - yes | git push heroku master

notifications:
  email: false

env:
  global:
    # Must end defining global env variables, so that it can be concatonated with secure keys
    - secure: "hus7XP5ph4ZbqOxdKFebtzcOl8RK2ahzSXnNYBWXs71OZhEbIncDSQbLMjoM\n3YWYNNVxDhbkyhg02sfrp5Rr/qp8kDSEjTS2JSEcGgp4IpddoYf27AG0OxKn\nbMQIIDhZiC68TsKuXp2BQNSHaW+bii8lEthxk/YC2H6+2g+ISYc="
    - secure: "TdtC1TGf14mOcjynKx3ruf8jEpn+CBanVAKv8sQdwB3D0witnCRXpHGlausf\nm6ACP63c5euMposIi67CA6R7Ro36Rt1e5RkcLk01XdecVPR/ico2nelX6IM+\n33aAQMK7y6+XAmQUAPAnLH8Me7q6DnP4BfLAbHrQ8ft7IF9VH/w="
    - secure: "tNXJDqT0YTtDbTc4ypmEhcb9NskBvn/RxEp1D5ZhyoqIVPQ7BHki0PGVGhyc\nzXgZKbeUF4+jSoLE9R/pNNtoRnXSo7zUdpkBUzi8rQOat3whHKP49eCu+Rrf\nmtvISpy0ZtPzWKeZeu62es3jnv7gWhkC6aaNin9qatzXqWcbBEA="
    - secure: "DT5TAGsNK0pz08fYbGO5IHeGpYB9GJvvwqZYM24bdE05c6wYoZgLVtCwxkjU\nolSIGdMk+jH9Fk162Yxg9oz5O2j8iZl71MCceqw5goE242oSL9xToxN3Q7nB\nfc3MACOdPhmLFcVBewdHqr11U2/ZnWgY+ShidAhWYTvCKzkENnA="
    - secure: "Bi5covoKneLoBz9RvyCxDdgRtvL82FZICel3F64k0bGJ4wEbl3utupMkRknX\nNIzWR0rMOwaYfTeBT9ZfNdl1Jw92+kP8WZt3qimw0nVJvKHNoIlthkmmE67D\ngzTTFc9TKCSDXadq1omfuGOwKrSvP1G0J4lQifknIBoGOuK3M2E="
    - secure: "AvMoXOZ+dWJVhjp4DrCnHzfoLNO3au17+SfcmmDomCxdteXqPBQijIUmfdDa\nb5xB/bqIqtxyOwtFusqS0j7OwHmx2TsLI71UiN1s8wSxBDwzC9Wm82lOdGzq\nElHTujI1eHtziNf/HiibXDvyooyQfkxeciVQIdR0NL4TTuwP4Rk="
    - secure: "hDIOC9Tkcf8p2a+OiZ4HQV9oMpdKO40+HKC2gDnUPP0mvELR7ZspgvxRYKs4\nLnbhbMn7MhYzlMyodvIPW/Nu+mlUcIK3yQN9rdt6cxjkz6WFDRGNfo1WYKnj\n67XKCoRzDBfMdd69AubGjvSbPxaEgW48THAheyhqThtYdGA9KZY="
    - secure: "w1bH6+TBgKF2jK8wUmjQ4gwJBoOxc0GL5CVFBiAnLqz87W9aKX1BkHXtI9L9\nTKpEB1UFNYEAwIqVbzQ5MnLRU0wXtiTW3Bq+0sYZluYSpH5TkJ4YMGoVynGX\nOTJnB7vcJOOdAF5OY8WbY281SJxXH4vPxfDf84qNXQLhPRKgCGI="
    - secure: "hO3VgtK2RDO6XARvSMgp762mdbTv/xNNbpbBT5w+WggsgrCesYuTZaLbDXhK\nOzZqlgUyT5nmV1gTBTomna5FKbc1Nrrcnb5woQ0VR7M4m7hPG+uJflDDQD+9\ngI7hVPUv3jQPhkkM5EJlzoBOtZk6QwVVhx73brBzlZW2zFlFzOw="
    - secure: "p+grP2mfhTnZLpW4Y+DYVLA+YlagkLkL7zdyLh43LZsVWD9RDcAsPCvOn5M5\nj3FZoMptT5EXn0MDtUkb5qCMoP2k+irM+49XBHaAS9QPlY10H9GugmgNnPQh\nzCuMuoYHAhM3M61ojyYehKsr3u4UHkzI2q4Eq4S9P0Jo9JPlq6k="
    - secure: "KC7aB6uEDlaiyjFCcJos3zRmRznJ7KbVy25jvn4TGepGcgpuf0Prb+MciYLw\nqxxYSLPDeX9BQoffSiK+U9Z/4wO1D0vl05eMQ6AEF83pXUdESfORcoHmtxYs\nbakv7ax4u5d5E3PZ828P1HHeP/09tPlvTcapIdmfSf4TPaWtgTY="
