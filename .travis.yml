# do not modify this file. it is generated from configs/travis/base.travis.yml
language: python

services:
  - redis-server
  - memcached
  - postgresql

install:
  - sudo apt-get install -qq libmemcached-dev
  - pip install -r configs/requirements/common.txt -r configs/requirements/testing.txt pylibmc --use-mirrors

before_script:
  - flake8 .

script:
  - python manage.py test tests

after_script:
  - wget -qO- https://toolbelt.heroku.com/install-ubuntu.sh | sh
  - git remote add heroku git@heroku.com:canada-development.git
  - echo "Host heroku.com" >> ~/.ssh/config
  - echo "   StrictHostKeyChecking no" >> ~/.ssh/config
  - echo "   CheckHostIP no" >> ~/.ssh/config
  - echo "   UserKnownHostsFile=/dev/null" >> ~/.ssh/config
  - heroku keys:clear
  - yes | heroku keys:add
  - yes | git push heroku master

notifications:
  email: false

env:
  global:
    # Must end defining global env variables, so that it can be concatonated with secure keys
    secure: "m8wtVuni0WmVvOc10T+naXya539rrs4lOwmVP5jyO6ZpEDWHyPxsgXTuHGv9\nznGpgiBNtta5Zw22t6d+gHfwyp/rUNLBLAyJB3eexe6zFO4wpOok6/Gm+mv1\nh4tKTvpy4MOf9YeMn10ozZwlCY2HSgVLox00UE7VrlLCojBJPy0="
    secure: "Sx/bkhH6nazTbvbYk0iLuBjQNjKxNzcflg2sQx21UsSorpfeZ83BgtEszngI\nTvyVxiSlTpZW/Mk+8kE8i48hq4GBZqjccSzIbLw/IKUrEuOSE0lETPpA8Fuf\nbWU9PgPB3RqY9FAiabM8aMl1+slix69gxR7Nd8Ljj4uh/qYtkBU="
    secure: "wa99fRYvCFgCTrz7J4EKjuw0RSAzdca3XfWWQerPJJRxGKDWwaEGuatVIZob\njWUDmW7NHseYQpFiUKBW+1uYxUYGh/QEHfJDTDZAS357pOi7DCJ0Do8+oslt\nqJvF2sMrulEGgaTeTrEtJ+ExHnn65DkrGoElWrcBFVL/0MT1pa8="
    secure: "J/qrVdHL0ucRdkzhUjv2rNgecln5Dv7ls1yUTb4gIC/Z3cd5s6s1y74CSUvN\nq39FY9Z6wXCTKyZnnftsLZbbUWyXXSRCnIOaCd+EsKKrPNRfqCZSwtaaku0n\nrUA5EANlUuU9IcVIQ+4QO0u0nXpVd593hYM8x30s17Uc/F0uj1U="
    secure: "lw1WpbFkeQs8+SH+iOPnvi8jRYpF/Ed/b7jiWHFTX6xBxxxB+M6G0LbPdjQH\nTZV3hhyjisTkAMKhuMb4oCIY7duelRHExfo+FM7kF0BM7hqn76exyiJko6SX\nHFRTNH59855GBoGvtQBv3kPtanbMEvviA6/5OeetOIBXUmHqgJA="
    secure: "eYvv4PpJPcqxJ8Gk35j6PSO53Y5pS/qMQrufqkUHeHnFyF7CTUfLuhDfsp18\nxGlU0BBu2s2/IR1td6TI8UC7XgdGnOawG1DSVBINk3V9Giro3hG7u0BlxviX\n0oTnMl7+skYB36uYySVwH2zptBpw8g1V5BfcOmFqW4auI/HtHlY="
    secure: "kt2IaPmoPyT3oZ62LJUP7ADwfeJDHeu0QTE3Q5AWdVgXA7F8M93el6UB9dam\nvKUjdKorppiIawoo6dJDBq+7noDM3XOiKZYAJF+G4/bo60CTFpQzYMhP3Q61\nBNApiy9uAiEkjlAWhdITZRe4dbVpN+jbdyIEp0e11XPKVGPdrvM="
    secure: "J0HCUnMSexiCwLkg5l8efYYy1gGpy3azFwQHOYNN9OqipgNm8x7m/i6NfKm7\nUWstR/XGWyOcpn1hk3rDR1uS5U6X5mIS48P3zmnHLEH1i+nwYfCW+qiOvyX5\ny+UnFGc/SsqJpkqr4Cz46DZ3FOtHFWl3VuKpEXwnl+TKkduWdO8="
    secure: "lQGSpAkx+kXaKpoPvon4VGCFSHwnQwNouYwQsdPQ6or+cdycz0i0moT0fgpN\nXYjlkTwC+NUDXazkod+gW8dOIMjdMOBztD7PbXLn8dfV49WAriDdVMcNABAd\n6m22spRB6fqplKjEmkSYkJwlWyZkWOWuCB5tRnPCZkEedzHYvbg="
    secure: "MhPgop/GVubZZM38ltC7j3D/kTmIpPGfbog07/6c2ryPOXtUeyJJDqwHQtqM\n6+V0l8fJUF/wpXwf7Qyzfyd2JOKkJxFIbdg7ifhUjckxOfewbbJ8KKX416Z0\nXtk2xtVIQELpfd1BkZjEByrwMiAMPPNqtLdpy5VTqzXtqFomO5c="
    secure: "bYZgLq5CJDzs0hZj+FFp4DU9fENT42kU2SAodXt40ySuU8NAFmgMj0/5ZF7T\nbn28TvmHC7vKr/zF4z1rcAO1mfY15k3gl5JG3K9+oLUKYUAzXItFBQ7ROlkd\nucmVXd+Ig20KJWWMiR2YPXVoPhBVkpCSdJYS3Hsz74vc1/1OWQk="
