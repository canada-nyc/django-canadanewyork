# do not modify this file. it is generated from configs/travis/base.travis.yml
language: python

services:
  - redis-server
  - memcached
  - postgresql

install:
  - sudo apt-get install -qq libmemcached-dev
  - pip install -r configs/requirements/testing.txt -r configs/requirements/common.txt --use-mirrors -q

script:
  - flake8 .
  - python manage.py test tests

after_success:
  - wget -qO- https://toolbelt.heroku.com/install-ubuntu.sh | sh
  - git remote add heroku git@heroku.com:canada-development.git
  - echo "Host heroku.com" >> ~/.ssh/config
  - echo "   StrictHostKeyChecking no" >> ~/.ssh/config
  - echo "   CheckHostIP no" >> ~/.ssh/config
  - echo "   UserKnownHostsFile=/dev/null" >> ~/.ssh/config
  - heroku keys:clear
  - yes | heroku keys:add
  - yes | git push heroku master

notifications:
  email: false

env:
  global:
    # Must end defining global env variables, so that it can be concatonated with secure keys
    secure: "w2HAKKvWkJb8KABC83ANBuZtGOU9D6KFuEyLsnkVVKP0esOve7+1D345RGB9\nlLlD0I5e2GNXMHP4NDYM/ELGBqTIxN7zh3rSYYELfTB2wfvXbYTgFFpmKiog\n+w4602IMikcmouOI9o3HvZbALZ20g7Qt25AHgPUJ41SfdBtFTuc="
    secure: "R3VglS6bkZpdAXhOCJ0d79Os2Vm7aFQAjn2DI4E7+3WUchJphryjlEFHtAjz\nePA2fJ8jmcG7GKbrHoQfaQGKB3vLmzCLWSJPTJ4IXK6rB5qCdTRSDqlrBtBh\n/cUT2nYypYTqXLqbvBbwe+sbTCoI17WuFDZRJtv2+ZZ2boMk7G4="
    secure: "EtGl+tGhwskZdlToDvdYVCnZl2kUd0J07R9K7wOgVMO+onK6fgZ5AFGFVr3x\nPK66vFRA5Q7eOFJ5B15JL2yz4/Jn7NKRvJk2ovfKbyAPoMqc/hCEBwIAk8Bd\nD20OF6XLMXTeFfJlolxcNF9eMSwfQlOH/zWn6/aba5bL8JgXvWk="
    secure: "l9XbjDRgA3s4NmpI1ETMuyJ0A4pHiDlGKCXKTn9d4eGGqG6wN3pJScUFWCCQ\nLQvDO2z3Xcomqk9QLkgZkojd0ZjGyY1mj2w/80Jr0+zD1ikgQIBaTIVMl/bl\nQPwDapoCgKPtaDy2quacwFPT0MJM2zGjoQgCRES7yxp9yf/hvnk="
    secure: "Magst/SaDsmkRN73YPnqQCfcNO9TcUE7wAnO1kc/HVfcFr6LAlumXvqczuO+\na6Va/27gCHMvJSF9DJSI3x8K4dznCQJkcZIhT7rajaT3QfHOB97MxoZsLxJv\nQaRd53mc83ibz+C2wKvOI6F8LBfJg3NsIzXJkDZO22j/Mj3XPio="
    secure: "MDw8bz//yVXqVo4I9YX1JjllUpQ1Hirazu2bf6s/CeMD0GjVnHiLWX/vANSE\nMiTQ6Iw5t6/pUD/YN+GNXSSjjRejbxOUJ4O0RFDcOSP3GthJMbjMidmSicTE\nrWJwuvHKXkKVpVdt5PLuzOV0lUPejzmM7lvoLysdjhT963FYSio="
    secure: "yi8clI4xrI9lyr50Oc56OnlhIZ5IJGQOGjmNSVJqwbadKCWXaIQAePStatU8\nNWiMQlFKAz4hmzaQSRM4q8rA7q6mgQ5nDyqRllRWWlFyG551Gs6WgR50iEWd\n9Gb66sLHlo/RwHwUeRDCl1l2SE9wN+eTbsgZNk0jj7zRA14US+o="
    secure: "PwfAU94iaUnD3XmeVoBJfA4p2bnOGEZwLQWX2KIAmGtfSQe5z8vF4RhzsX1v\nvhJQZnynFdAhORXavadtEctD4I432SIUGQFKYUWaWpImFyA7Ewgw2boLQlpy\nYqDYd9fc3kAKNJ5vIfeuIbWZQLx+apSlH0q8xO2+e2o3ARkjl2g="
    secure: "fi7hwp+fbdRZ+2qthSyoBp+XcVk2wjJLmUPWYG9Wn/wWbtr4hHR5QwXhJbGD\nBbPKtmscR/G7a3Av91duXP8RlEMWwJ1ONHPk041wFed/YnzCCDsvAY5wgPsA\nN+HkiGkEnQl5flh/z+CrG5KOuduDBTOkuEKqE7ylWhoS6M7O/Xo="
    secure: "cQtOjpoq6z1qEynbHDc11XE/RxwwFUJMAjemFb/r0f3xjBRVBkifWdfSHXhh\ndjEvbAWCm/zuVPyd8tKiVq+k7fcykmR4XAUniHMH/2IxC0p53pFAszjURIoA\nBwZp3eDNOKNuLT7lXm3umIbxP7HVCONXe5lHvoOUwZP3VODKLtU="
    secure: "PCycsHNfJSER5dwp+JgW4X+SWkSbBjCoN50bc5yKOdGKZrspuE3FX0DDIYDj\nCFje+nPNnAflE8gVCeV29HZi7botpig3Xd9mMxt18IpZONdb1SZ4O/gMqLc1\nGbxvOc9Sud3VYCVAnDKStxed3BC+psfsdks/5vcBrUEELxOZ1JU="
