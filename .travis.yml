# do not modify this file. it is generated from configs/travis/base.travis.yml
language: python

services:
  - redis-server
  - memcached
  - postgresql

install:
  - sudo apt-get install -qq libmemcached-dev
  - pip install -r configs/requirements/travis.txt --use-mirrors -q

script:
  - flake8 .
  - python manage.py test tests

after_success:
  - wget -qO- https://toolbelt.heroku.com/install-ubuntu.sh | sh
  - git remote add heroku git@heroku.com:canada-development.git
  - echo "Host heroku.com" >> ~/.ssh/config
  - echo "   StrictHostKeyChecking no" >> ~/.ssh/config
  - echo "   CheckHostIP no" >> ~/.ssh/config
  - echo "   UserKnownHostsFile=/dev/null" >> ~/.ssh/config
  - heroku keys:clear
  - yes | heroku keys:add
  - yes | git push heroku master

notifications:
  email: false

env:
  global:
    # Must end defining global env variables, so that it can be concatenated with secure keys
    - secure: "WFcsVTHPcBKnQExJkmg5VuHakWb77wC4rkNqsr9zThkY8X0J8NEjtqjUlWep\nR824/O3QAaadu+OSI3yFcAWTdiAEXsSKxDFThyHArfX6BvPjeBwwwaC1icmy\nAvYtdzbjswIUyRQdojdAl4aoNay5snDqO3kfpl4YvmWrxaC6Vyw="
    - secure: "MopU8QkFIgCthZh/TP4bCcsRw/7rmj26O5r8Nd226tpgCcbygavmae6PTgye\nF3j9abxImbQIS1xkq6rsx888lvjIdbpfexoHsdMAOvZyU8g+NDvMsUmooIJ1\n6kscaWa395q8qj3sTpGaCmJ6U9/Udu1FIGtOscU5m/DD3mzOeVo="
    - secure: "rGgEXHYQna0ELvhbQDYqS8ZGH/GwaIM2qMTtDjvY6j+EetuczxI3zgFdtsHm\nUEGfo4JBzT9BfUhpXOwIiKZ63xfl3V2rz0oxaxSBcOXLjORmHV60JWLIJNOa\n3n+T76VdC6Mnhg+4dRYGPhtmmJyhU74iwN5fi7bbEPBQzCYkgEI="
    - secure: "gWMK9W1eTbWhJKI/zVXyXbDPln/C/+TPHugFE0LPsEAZOyhpGjdr6aj/TyBu\nxso4i/iKtv+pYC+czyP5lEhXQrct1xDcc6t//hemYuq84izInohYwAWjml/B\n686MoLnEdmDbPhVUcZp3Ij7G5fEXm8URCfyT+G3we7SdPYclLOY="
    - secure: "ll+NSDpbtgP2Vi+HGonG0pm/clYV9CfhX/29rC+GVawN8kvGd7WPWhgnlpAr\nHAdhZRwEt5/nkhWUpVnCvHsjbtD+JXmaaSeOi79BYpAbhwSn9qTNO0YLcxqL\nzRxbQJT1sOOSW7IOYzL8Bg6r3eapCn1fP3lj1jfzcu7LRDMzp/A="
    - secure: "mYSQLrONROZkSzMh0QtWVL5i0x5ymkGsnhp52+7qf41lDK0OqUzVMS0ws9YS\nVPdsBUpNXoQjVjBZZr8cllwqyieVh5FCRDGCRb2Z1qSelQiaKOUQEISmJiAU\nKZI1KCGETAg0KsCC4yqsC9RHmvsHpcsAYQbCuuSeNMI9ns/QwH8="
    - secure: "acOLFFED7b9Te4qVnaTvm2bdbVmbwwwSCgPK61/5/BlNLGEuEo+1IiBLAiY+\ntONWtocTYEfFD8NhL/9jzKIQ8Z6T/2vWQHbBQWIaRKlTO++mp8Uj16TclnWj\nQ+ABqdCGg5td31nGSnjiauMp0cvpjtFw5t70uTiVnARuBH4SSYQ="
    - secure: "t2pBHvmTrfDLpfVCmVRkBX3czleCkdErdx6h4WP9PtHAvudTujKEivhBMvNV\ny0AY0oRyrxa41TopsMjhEhdJRjWWZqE/g3RY90jY9j0EhYy7Lxhcs4wxtxzN\nnbBe2wDUfY9JITqJtfW5kmg5fa8E/moUGd9tGZrUtAC0BKkjWPE="
    - secure: "Q1Az6yABtnx6WaQW2WCS+glWfeCEPW1ljBvyUHGFSNAbkWBtYwJO35gB1Bm8\nKe2eAqqMd1fb8t9aa3sVyXp22nUsMzbG9rpBA+fmndmMVVClxMErr//CY4h1\n0msFE4Oq1tfdy1bllUjfCgLmLe2IKjuEtDDOX6otn0OXml3CAJc="
    - secure: "zIDhUD/I454NpEagenYaPYU6BLUsDeh+RqyRFUTLB599/mvrOEGIf8zF/Iiv\nM/YAkxuGtqalzqkmCI8dx2ycoF3waEBaRmLyKJ7sMnu908E++ow3U6fm43p+\nXasCOnFJgMl32yJLXA3Xvxln6RilYryJe4w1Pcsjhdnorcdf96M="
    - secure: "PIL8aWW6k81wINLI72l7oK2vFWCKTnYWEF4j4C+w8enlbKFV00SxvahSw5+C\nh50RwzAjGsqG7EJzmwNYORYi3e0oXQgrkhxK9zCkGHRi/Ak62u22Ui6ushyN\nAeB8v3s+2ZbAMBFq9wxBVToweI/JmEDbZPtWwY4gnNVAGJeP2qE="
