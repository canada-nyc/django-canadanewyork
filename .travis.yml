# do not modify this file. it is generated from configs/travis/base.travis.yml
language: python

services:
  - redis-server
  - memcached
  - postgresql

install:
  - sudo apt-get install -qq libmemcached-dev
  - pip install -r configs/requirements/common.txt -r configs/requirements/testing.txt pylibmc --use-mirrors -q

script:
  - flake8 .
  - python manage.py test tests

after_success:
  - wget -qO- https://toolbelt.heroku.com/install-ubuntu.sh | sh
  - git remote add heroku git@heroku.com:canada-development.git
  - echo "Host heroku.com" >> ~/.ssh/config
  - echo "   StrictHostKeyChecking no" >> ~/.ssh/config
  - echo "   CheckHostIP no" >> ~/.ssh/config
  - echo "   UserKnownHostsFile=/dev/null" >> ~/.ssh/config
  - heroku keys:clear
  - yes | heroku keys:add
  - yes | git push heroku master

notifications:
  email: false

env:
  global:
    # Must end defining global env variables, so that it can be concatonated with secure keys
    secure: "V4wchaduy3z8SgnW4dBsQqBCYu9lsMlm6GePNX7om2Zrko3x22ZLhHkWN6JF\nrrk7NDWHkWz7M5De0Er3O7k5+C+d+1neOCbT7lSHO9bNYcg9YYtIjuhyPibb\nWsyzYyjk1ESgpclKeAdmKG0tSkROVvZI6RsPTAPH5HwiLVUU2I4="
    secure: "A3rxsmfbCHsXnj9aRL4yKurYIrM3P9lK5ktKtmAAHwIIjXq3FnD/bzLeHv4O\ni96YPbASP/L3ZOHhjYPuIckd+SqMtuKXI2zKhL7Q7PAAKrlT1Ts7+mxEVbwA\nU7csWX67525BqBeJoTbdHwCAZ/Z4PEwuTwxqgQoolFSbyJf2hMg="
    secure: "gHw5FHK8RB+oRAKPqyOP2UnPX6MEl6USjZIhYqKkXoLgcixeqruTeMy7ltK0\nyGSztipnNVl2z1+HSRcGXG2KrrvfaUwVSHLbN49bECvha4+Xr4tR9Dbt/w1r\nK2LBgLYJSQPwqYDnAC9xQCgwLRRdMU8yTzpQqzGJQ85Z/d2iygk="
    secure: "H7+FrLlFsciq/5QAxRO7Dbg92tO4/ElqNTlfrKDRbtpKA7cJDms41DPs0CIx\ncqNUNx34vg5bdGi3DpYqChUVy9G75s+46thDF3B0UiQu3R5b8knn7o3hkTeF\nWK/CJ3PU6mfL7Eo362IcJC2X7Nmw3Ms0uFWf2MQF5nGP8wEcgro="
    secure: "zu7EHa1OC+W7FT/nzcrHJpj8YGnkEh5MUhFjxL2G0pvXiiIn9c4aTr8jDpSw\nzKPiQUjGMweDBoKTzWjQXm5sY1Z52Rvh9PQBHlN7KWFxXHu8dGYJWdZAZTqE\n50E+VuPxBvdoMOxcp5sZnqkgkIAYZ10ke3XNHdK3YLn68pJESk0="
    secure: "cwvDoTpni3jK0rLdhMGbTFS6je/grP5Q+BdpRTzG54NEK4j61JjHs0n/Hr7x\nvIbjKPBqqNacTYyV0/zDKONzhNqWAvm7sgwJw4ouVqYlH5z8o1ia7MeYIcSU\nHjgJ4VwmcDS9ktcAWh7GodnCLjAvdCED0W3tUGX2H+wOPn3Up1A="
    secure: "XlYCZ2vm3xt4IbsEeVFDZ9FoZ0EWGlHcpKdmemGd+GoVdydp2tvOUMw6L9ge\nwwW01BAo0za7RiOkTRLNnpgbVGKIIxiFCrqMGsSOebcGQmd6SP6PDiaMrX/S\n6OgN/QPI7gpQ1WgPDERZHWXQWIkeuayLVyr0HTZgpnCT3iisOm8="
    secure: "ZbwhL0aCuTNtbwhZG2pwP9BVnJzcioh8Hq3xUA7OP1Y/ZKR/Fkp5VBgxCugt\nwN+AKhkbGLKie0R9Lyj9p0YWHUQFVcf01/w9JHFnuschFCwmy2WH4BDZAy3n\nZwW/eW6c5wXy5mwApSuRFAHYpn8iUDb7Rpx0qd7fNERJkQ5uC6s="
    secure: "vn4hSI8WG1X9jgvhTfLzGT4bPiRq6iEL9ylDOYQrLWnD1LbtOd5dTkelC1J0\nGCscfFNnPKo+ezWyusiMJrklbIa4X8U0gYLAxhmuJfAMmqxTsBd39Knue5Bg\ngr9lTdLcOIJgpHKcNHkT9IY1WMrjQHEGbmvw/bgaxJqX1dIQMK0="
    secure: "IhCjZy26Tj6+s4P9JF6BZulpYDJJIfWeIQ9oaUhpD+LI9WjpOT10W7YM+0tM\nWs3UmV5opTCPNEiwZ2UopavfJBxm+tonCVlSK32Dw6Q/SsBbL4Qy54VweFcQ\nqKa734boXQ+/AXrz+14G32Gz6pDSIwGR7yg0Q2bx5r9wVdZO5Nw="
    secure: "pzdoyOlLGArCF/Rz4mqjq9+xVjJqQMl0jHmziaW5qTsbxf1/ZmCq5XO/woQT\n2Ocw1C6ll5bUe/YJTr5TJARYyng0SQnXa6OJwDwUWX9gOF0B7J3AIUXOuH8H\nYyIfOGK/OEly+iZmUQKjAI7rMXz/iDFrioB0EGKG1O1wmWmMOOw="
