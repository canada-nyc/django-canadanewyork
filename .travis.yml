# do not modify this file. it is generated from configs/travis/base.travis.yml
language: python

services:
  - redis-server
  - memcached
  - postgresql

install:
  - sudo apt-get install -qq libmemcached-dev
  - pip install -r configs/requirements/travis.txt --use-mirrors -q

before_script:
  - psql -c 'create database django_canadanewyork;' -U postgres

script:
  - flake8 .
  - python manage.py test tests

after_success:
  - wget -qO- https://toolbelt.heroku.com/install-ubuntu.sh | sh
  - git remote add heroku git@heroku.com:canada-development.git
  - echo "Host heroku.com" >> ~/.ssh/config
  - echo "   StrictHostKeyChecking no" >> ~/.ssh/config
  - echo "   CheckHostIP no" >> ~/.ssh/config
  - echo "   UserKnownHostsFile=/dev/null" >> ~/.ssh/config
  - heroku keys:clear
  - yes | heroku keys:add
  - yes | git push heroku master

notifications:
  email: false

env:
  global:
    - secure: "r6W1b6Gc0Gr997233yhz0dYehwmj1G97U92FjWxIJufvK5aVlArPn9obtMu3\nsBAouXZta+OwW48vCY5ctkryLP9ZbPhzto9JuYM5mpFlq1wl9bE+xFQBKSV1\nwMu5l3vjsz2XT2A/U4bPE+dF8RbAqSJ3+LQasmKfh+WQnWj7Db0="
    - secure: "mymx5Jv/4p6qfqJH6I11+Es5BnJD20oy7yS6sKmlhMJ5ZFUoKC/q534Aq0Gf\ntaftU1sTdQb9sDJ/2K4E6ghzWMkczSi9XUYbJADseDwyJk7RJfaEaivCEsbT\nSJ9HqdYeO9CvKtwVWQOiPAOuVmeWDswqHeskVY+AsBYcKQjW6vo="
    - secure: "EP/YNSHwh+VYKi4S/u6KyssFkI0pdPh2lcVJLiSIyxbXzmL3d10aiSoVVJGg\nGQG4gBYYpumss/N86kc889uE3JZ5YypEPb2H+S+OoPzVYxdvU4n5zLqQ/EW9\nbNemawZqhZwhmn8mg7Y5XXPENN5y4dwOrbbh7nLaRCgXDMkGYLc="
    - secure: "ShXPt0KDVMlbt4zHziYhhQcM8E1SGflgPuw9aStBSwpePlUHBcIL4arMOnsu\ng5U9sTdhIRADU1HITmbwCnkWPgzu8OUQtg1LkoFsrONeNmBeJk5sPwv3BXPn\nLMqhfFHDZtxn8VVz4L1jg/TJb/3ykjlLMZwW8xFjYCVBHwEXZn0="
    - secure: "BLXm0k3ZPKFf2nfLTGsREtJVNwC1DJ6tdwDDs9i3bnsWHStaluRjz7S1+6j+\nUOvyKw0slhN+kvO1df9cNCGg3PIWrJ8GCtT1o/tz5Edj4pf7KBlLZVoQOqCk\nt3kmNkiRfxavNTdHSyFQ6xPWVNNiR1IM52cWcjLG7Y9eXCmCmxo="
    - secure: "iqos4XOepDYe62krI6SwD4uomxXdQa5ASAPDecjxqkdPO+35FrhGrBb2uMuM\nNozvVcAjDmqghTlof/xeRZbrAxusmKtwFBNDLQeFKr2A8271dbYwx17PlOp0\n0AtOrFmGPM8otcl0BHNjPL2aRyNOK5sE7ZxVod4GfYJzB5NNMz8="
    - secure: "a3DqknQcsVQhB9MAowrZBBgiM0u4vwniIj3afqpC0xwWxps1o/n92bjFPHGW\n/sqMukR8QmpAzz7OIEgM38IE9j/icYHOxhe1tFuBOTSSz8ZqrD1F1s3HES8F\nV+PL0Sz+ruWXtOV+Lh7qR8dWyMG0oh661TcDB7YahE13iwgsCrE="
    - secure: "xZozOaJmXTzN0wwOYwA1JTP0sjCRMoG7i7iMx8hkKTK3cq6uPbEWY0VkB97/\nkto0T/6Z6gAny7Px2dgWPz9iq+EBaNQtg24IVoUwIqXiGlrNar+tUOeyGF9Y\nsknHVPUAdCSNA0MkpufTSULzCROuK0tjuN6z9d1y1ymrht4hIjA="
    - secure: "nmJHGLUC6wTJQVWDFJZdNMzizoheZN6lkcd+TUaojcoDzoziv6hdY9CKFrrD\nnDFOfhDwFx8r462cUwIQ2bAm03j7HnT/z4wcSzHaLHLCJrLXrNkURTlroJWU\nbOMA6z/t5smUBrgJq087epfo9SyAfvgJ21qlFQuEkR8A3wnMwjk="
    - secure: "Pn0zstALRD7+aGddwNWS1iibT2OQ0Ze/Reljzl/fm/eURMOky/pcfGKaMzxE\nETPsqshEZASX6NLsXrTP4iH5ASn3m/ZUXOG27D1yJKNhsTEn1RkOyXUXUvCn\n2SgL3w0x9wj8A8HzjlMCzA8KHgOMlv/r13kiaaEBYDnodhGWhD8="
    - secure: "JJAFKmEV4kxyPYkP8hCv1fqTStuXomH2cD+1udAZ/rOqBubXC/JyQYtyZoyo\nxWd6dku8YgBn1WSkI3Eqz2M0Lg0ozDQHRd9hbGwLuJpS+dgsIh791FJ+PaUj\nNcJy5iJvZWw52dfn8JoUwR/mquySAtPIwp0hoqBjnoSSzzFQd2g="
